{% extends "private/base.html" %}

{% block hidden %}

{% for modulo in modulos %}
<!-- Modal -->
	<div id="{{ modulo.uid }}" class="modal hide fade" tabindex="-1" role="dialog"
		aria-labelledby="myModalLabel" aria-hidden="true">
		
		<div class="modal-header">
			<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
			<h3 id="myModalLabel">Cadastrar {{ modulo.tipo_string }}</h3>
		</div>
		<form name='generic_form' action="/questao/create/{{ modulo.uid }}" enctype="multipart/form-data" method="post"> {% csrf_token %}
			<div class="modal-body">
				{{ modulo.form }}
				{{ modulo.formset }}
			</div>
		<div class="modal-footer">
			<button class="btn" data-dismiss="modal" aria-hidden="true">Fechar</button>
			<button type="submit" class="btn btn-primary">Cadastrar</button>
		</div>
		</form>
	</div> 
{% endfor %}
	
{% endblock %} 

{% block sidebar %}

<li><a href="/"><i class="icon-home"></i>Home</a>
<li><a class="has_sub"><i class="icon-list-alt"></i>Questionarios 
<span class="pull-right"> <i class="icon-chevron-right"></i></span></a>
	<ul>
		<li><a href="widgets1.html">Widgets #1</a></li>
		<li><a href="widgets2.html">Widgets #2</a></li>
		<li><a href="widgets3.html">Widgets #3</a></li>
	</ul></li>
<li><a href="/"><i class="icon-reply"></i>Submissões</a>
<li><a href="/" class="open"><i class="icon-question-sign"></i>Questões</a>
<li><a class="has_sub"><i class=icon-group></i>Cadastros
<span class="pull-right"> <i class="icon-chevron-right"></i></span></a>
	<ul>
		<li><a href="/aluno">Alunos</a></li>
		<li><a href="/professor">Professores</a></li>
		<li><a href="/grupo">Grupos</a></li>
	</ul></li>

{% endblock %} 


{% block content-title %}  Questões {% endblock %}

{% block content-bread %}

<a href="/"><i class="icon-home"></i> Home</a>
<!-- Divider -->
<span class="divider">/</span>
<a href="#" class="bread-current">Questões</a>

{% endblock %} 


{% block main-content %}

{% for modulo in modulos %}
	 {% if forloop.first %}
	 <div class="row-fluid">
	 {% elif forloop.counter|divisibleby:"3" %}
	 	</div>
	 	<div class="row-fluid">
	 {% endif %}
	 
	 <div class="span6">
		<div class="widget">
			<div class="widget-head">
				<div class="pull-left">{{ modulo.tipo_string }}</div>
				<div class="widget-icons pull-right">
					<a href="#" class="wminimize"><i class="icon-chevron-up"></i></a>
				</div>
				<div class="clearfix"></div>
			</div>
			<div class="widget-content">
				<div class="padd">
					{% if modulo.classe.meta.objects.all %}
						<table class="table table-striped table-bordered table-hover">
						<thead>
							<tr>
								<th>Nome</th>
								<th>Criador</th>
								<th>Nivel</th>
								<th>Tag</th>
							</tr>
						</thead>
						<tbody>
						{% for questao in modulo.classe.meta.objects.all %}
						<tr onclick="document.location = '/questao/detail/{{ questao.uid}}/{{ questao.id }}';">
                          <td>{{ questao }}</td>
                          <td>{{ questao.modulo.tipo_string }}</td>
                          <td>{{ questao.nivel_estatico }}</td>
                          <td>
                          {% for tag in questao.get_tags %}
                          <span class="label label-info"> {{ tag }} </span>
                          {% endfor %}
                          </td>
                        </tr>
						{% endfor %}
						</tbody>
						</table>
					{% else %}
						<i>Nenhuma questão criada.</i>
					{% endif %}
					
				</div>
				<div class="clearfix"></div>
				<hr />
				</div>
			<div class="widget-foot">
			<button href="#{{ modulo.uid }}" data-toggle="modal" class="btn"> <i class="icon-plus-sign"></i> Criar {{ modulo.tipo_string }}</button> </div>
		</div>
	</div>
	{% if forloop.last %}
		</div>
	{% endif %}
{% endfor %}
{% endblock %}